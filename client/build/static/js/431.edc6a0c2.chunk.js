"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[431],{26431:function(e,t,s){s.r(t);var r=s(74165),l=s(15861),n=s(29439),o=s(72791),c=s(22654),a=s(54379),i=s(41470),d=s(75985),h=s(34265),u=s(91330),m=s(15005),f=s(30910),p=s(80184);function w(){return(0,p.jsx)(h.D,{children:(0,p.jsx)(u.Zh,{})})}var x="".concat("http://192.168.220.59:5000");t.default=function(){var e=(0,o.useState)([]),t=(0,n.Z)(e,2),s=t[0],h=t[1],u=[{field:"id",headerName:"S.No.",cellClassName:"small font-weight-bold ",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.id}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.id})},width:120},{field:"collectionname",headerName:"Sheet Name",cellClassName:"small font-weight-bold",renderCell:function(e){var t=e.row.collectionname.split("_").slice(1);return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:t.join("_")}):(0,p.jsx)("p",{style:{color:"red"},children:t.join("_")})},width:150},{field:"client",headerName:"Client",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.client}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.client})},width:150},{field:"process",headerName:"Process",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.process}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.process})},width:150},{field:"subprocess",headerName:"Sub Process",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.subprocess}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.subprocess})},width:150},{field:"createdBy",headerName:"Created By",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.createdBy}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.createdBy})},width:150},{field:"createdAt",headerName:"Created Date",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.createdAt}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.createdAt})},width:150},{field:"status",headerName:"Status",cellClassName:"small font-weight-bold",renderCell:function(e){return"active"===e.row.status?(0,p.jsx)("p",{style:{color:"green"},children:e.row.status}):(0,p.jsx)("p",{style:{color:"red"},children:e.row.status})},width:150}],j=[],g=s.map((function(e,t){return{id:t+1,_id:e._id,proceess:v=e.process.split("|"),client:v[0],process:v[1],subprocess:v[2],dateeee:(s=new Date(e.createdAt),j=[N(s.getDate()),N(s.getMonth()+1),s.getFullYear()].join("-")),collectionname:e.collectionname,createdBy:e.createdBy,createdAt:j,status:e.status};var s}));function N(e){return e.toString().padStart(2,"0")}var v=[];(0,o.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.$D)().cm_id;case 2:return t=e.sent,e.next=5,fetch("".concat(x,"/api/find-data-with-process-name-for-managesheet"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cm_id:t})});case 5:return s=e.sent,e.next=8,s.json();case 8:l=e.sent,422!==s.status&&l?l?(h(l),l.map((function(e){for(var t=e.collectionname.split("_").slice(1),s=0;s<t.length;s++)t[s],s<t.length-1&&"_"}))):console.log("No Data!"):console.log("error ");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var y=0,b=0,C=[],S=[];s.map((function(e){"active"===e.status?y++:"inactive"===e.status&&b++}));return C.push(y),S.push(b),(0,p.jsxs)("div",{children:[(0,p.jsx)(c.Z,{}),(0,p.jsx)(i.Z,{}),(0,p.jsx)(d.Ix,{}),(0,p.jsx)("div",{className:"content-wrapper",children:(0,p.jsx)("section",{className:"content ",children:(0,p.jsx)("div",{className:"container-fluid ",children:(0,p.jsx)("form",{children:(0,p.jsx)("div",{className:"row mt-2",children:(0,p.jsx)("div",{style:{fontSize:"12.3px"},className:"col-md-12",children:(0,p.jsxs)("div",{className:"card card-info mt-3",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsx)("h3",{style:{fontSize:"1rem"},className:"card-title",children:"Sheet Status"})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{style:{overflow:"auto"},children:(0,p.jsx)(m._,{components:{Toolbar:w},autoHeight:!0,density:"compact",getRowId:function(e){return e._id},rows:g,columns:u,initialState:{pagination:{paginationModel:{pageSize:7}}}})}),(0,p.jsxs)("div",{className:"row card-body",style:{display:"none"},children:[(0,p.jsxs)("p",{className:" font-weight-bold bg-info col-md-3",children:["No. of total sheets :- ",s.length]}),(0,p.jsxs)("p",{className:" font-weight-bold bg-success col-md-3",children:["No. of active sheets :- ",C]}),(0,p.jsxs)("p",{className:" font-weight-bold bg-danger col-md-3",children:["No. of inactive sheets :- ",S]})]})]})]})})})})})})}),(0,p.jsx)(a.Z,{})]})}}}]);
//# sourceMappingURL=431.edc6a0c2.chunk.js.map