"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[509],{73509:function(e,t,n){n.r(t);var s=n(74165),c=n(15861),r=n(4942),a=n(1413),o=n(29439),i=n(72791),l=n(22654),d=n(54379),u=n(57689),h=n(41470),m=n(88890),f=n.n(m),p=n(75985),x=n(30910),v=n(80184),y="".concat("http://192.168.220.59:5000");t.default=function(){var e=(0,i.useState)(""),t=(0,o.Z)(e,2),n=t[0],m=t[1],j=(0,i.useState)({getdynamiccollection:""}),g=(0,o.Z)(j,2),N=g[0],S=g[1],Z=(0,u.s0)(),b=(0,u.TH)();(0,i.useEffect)((function(){!function(){var e=document.querySelectorAll(".needs-validation");Array.from(e).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))}()}),[Z]);(0,i.useEffect)((function(){null!=b.state&&p.Am.success("Data saved successfully!"),setTimeout((function(){window.history.replaceState({},document.title)}),100)}),[b]),(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,r,a,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.$D)().EmployeeID;case 2:return t=e.sent,e.next=5,(0,x.$D)().client_name;case 5:return n=e.sent,e.next=8,(0,x.$D)().usertype;case 8:return r=e.sent,e.next=11,fetch("".concat(y,"/api/getall-cmid-via-empid"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({EmployeeID:t,client:n,emp_type:r})});case 11:return a=e.sent,e.next=14,a.json();case 14:o=e.sent,422!==a.status&&o?(i=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o[0].cm_id;case 2:return t=e.sent,e.next=5,fetch("".concat(y,"/api/get-dynamic-collection-names"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cm_id:t})});case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,422!==n.status&&c?m(c):console.log("error ");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i()):console.log("error ");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);for(var w=N.getdynamiccollection.split("_").slice(1),T="",k=0;k<w.length;k++)T+=w[k],k<w.length-1&&(T+="_");return(0,v.jsxs)("div",{children:[(0,v.jsx)(l.Z,{}),(0,v.jsx)(h.Z,{}),(0,v.jsx)(p.Ix,{}),(0,v.jsx)("div",{className:"content-wrapper",children:(0,v.jsx)("section",{className:"content ",children:(0,v.jsx)("div",{className:"container-fluid ",children:(0,v.jsx)("form",{noValidate:!0,className:"needs-validation",children:(0,v.jsx)("div",{className:"row mt-2",children:(0,v.jsx)("div",{style:{fontSize:"12.3px"},className:"col-md-12",children:(0,v.jsxs)("div",{className:"card card-info ",children:[(0,v.jsx)("div",{className:"card-header",children:(0,v.jsxs)("h4",{className:"card-title",children:["Sheet List: ",T]})}),(0,v.jsx)("div",{className:"card-body",children:(0,v.jsxs)("div",{className:"row",style:{border:"solid text-muted 1px"},id:"sheethide",children:[(0,v.jsxs)("div",{className:"form-group col-md-5",children:[(0,v.jsx)("label",{style:{fontSize:"11px"},htmlFor:"xyz",children:"Sheet:"}),(0,v.jsxs)("select",{name:"getdynamiccollection",onChange:function(e){var t=e.target,n=t.name,s=t.value;S((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n,s))}))},className:"form-control form-control-sm",style:{fontSize:"12.4px"},id:"selectsheet",children:[(0,v.jsx)("option",{value:"",children:"Select"}),n?n.map((function(e){for(var t=e.collectionname.split("_").slice(1),n="",s=0;s<t.length;s++)n+=t[s],s<t.length-1&&(n+="_");return(0,v.jsx)("option",{value:e.collectionname,children:n},e._id+"jhyu")})):""]}),(0,v.jsx)("div",{style:{display:"none",color:"red"},id:"sheeterr",children:"Please choose a sheet."})]}),(0,v.jsx)("div",{className:"form-group ml-2",children:(0,v.jsx)("button",{type:"click",id:"sheetbtn",style:{fontSize:"11px",marginTop:"1.6rem"},className:"btn btn-sm btn-info col-md-12",onClick:function(e){e.preventDefault();var t=N.getdynamiccollection;if(""===f()("#selectsheet").val()?(f()("#sheeterr").show(),f()("#selectsheet").css("border-color","red")):f()("#sheeterr").hide(),!t)return!1;var n=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/api/get-dynamic-collection-data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({getdynamiccollection:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,422!==n.status&&c?c?Z("/evaluation",{state:{data:c,getdynamiccollection:t}}):console.log("No Data!"):console.log("error ");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()},children:"GET SHEET"})})]})})]})})})})})})}),(0,v.jsx)(d.Z,{})]})}}}]);
//# sourceMappingURL=509.07ca7d82.chunk.js.map