{"version":3,"file":"static/js/509.07ca7d82.chunk.js","mappings":"kRASMA,EAAG,GAAAC,OAAMC,8BAsOf,UArOkB,WAChB,IAAAC,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAkCL,EAAAA,EAAAA,UAAS,CACzCM,qBAAsB,KACtBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAFKG,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAGxBG,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACR,WAEE,IAAMC,EAAQC,SAASC,iBAAiB,qBAExCC,MAAMC,KAAKJ,GAAOK,SAAQ,SAACC,GACzBA,EAAKC,iBACH,UACA,SAACC,GACMF,EAAKG,kBACRD,EAAME,iBACNF,EAAMG,mBAERL,EAAKM,UAAUC,IAAI,gBACrB,IACA,EAEJ,GACD,CAjBD,EAkBF,GAAG,CAAClB,KAYJI,EAAAA,EAAAA,YAAU,WACc,MAAlBF,EAASiB,OACXC,EAAAA,GAAAA,QAAc,4BAEhBC,YAAW,WACTC,OAAOC,QAAQC,aAAa,CAAC,EAAGlB,SAASmB,MAC3C,GAAG,IACL,GAAG,CAACvB,KAGJE,EAAAA,EAAAA,YAAU,WACR,IAAMsB,EAAQ,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACUC,EAAAA,EAAAA,MAASV,WAAU,OAA5B,OAAVA,EAAUO,EAAAI,KAAAJ,EAAAE,KAAA,GACKC,EAAAA,EAAAA,MAASE,YAAW,OAA7B,OAANX,EAAMM,EAAAI,KAAAJ,EAAAE,KAAA,GACWC,EAAAA,EAAAA,MAASG,SAAQ,OAA1B,OAARX,EAAQK,EAAAI,KAAAJ,EAAAE,KAAA,GAEIK,MAAM,GAAD3D,OAAID,EAAG,8BAA8B,CAC1D6D,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBnB,WAAAA,EAAYC,OAAAA,EAAQC,SAAAA,MAErB,KAAD,GARO,OAAHC,EAAGI,EAAAI,KAAAJ,EAAAE,KAAA,GASUN,EAAIiB,OAAO,KAAD,GAAvBhB,EAAIG,EAAAI,KACS,MAAfR,EAAIkB,QAAmBjB,GAGnBC,EAAO,eAAAiB,GAAA1B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAyB,IAAA,IAAAC,EAAArB,EAAAsB,EAAA,OAAA5B,EAAAA,EAAAA,KAAAS,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAjB,KAAA,EACML,EAAK,GAAGoB,MAAK,OAAtB,OAALA,EAAKE,EAAAf,KAAAe,EAAAjB,KAAA,EACOK,MAAM,GAAD3D,OAAID,EAAG,qCAAqC,CACjE6D,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBK,MAAAA,MAED,KAAD,EARO,OAAHrB,EAAGuB,EAAAf,KAAAe,EAAAjB,KAAA,EASWN,EAAIiB,OAAO,KAAD,EAAxBK,EAAKC,EAAAf,KACQ,MAAfR,EAAIkB,QAAmBI,EAGzB/D,EAAU+D,GAFVE,QAAQC,IAAI,UAGb,yBAAAF,EAAAG,OAAA,GAAAN,EAAA,KACF,kBAjBY,OAAAD,EAAAQ,MAAA,KAAAC,UAAA,KAkBb1B,KApBAsB,QAAQC,IAAI,UAqBb,yBAAArB,EAAAsB,OAAA,GAAA9B,EAAA,KACF,kBAtCa,OAAAJ,EAAAmC,MAAA,KAAAC,UAAA,KAuCdrC,GACF,GAAG,IA4CH,IA1CA,IAwCIsC,EADelE,EAAUF,qBAAqBqE,MAAM,KAC1BC,MAAM,GAChCC,EAAkB,GACbC,EAAI,EAAGA,EAAIJ,EAAaK,OAAQD,IACvCD,GAAmBH,EAAaI,GAC5BA,EAAIJ,EAAaK,OAAS,IAC5BF,GAAmB,KAGvB,OACEG,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACPD,EAAAA,EAAAA,KAACE,EAAAA,EAAI,KACLF,EAAAA,EAAAA,KAACG,EAAAA,GAAc,KACfH,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBL,UAC9BC,EAAAA,EAAAA,KAAA,WAASI,UAAU,WAAUL,UAC3BC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mBAAkBL,UAC/BC,EAAAA,EAAAA,KAAA,QAAMK,YAAU,EACdD,UAAU,mBAAkBL,UAC5BC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,WAAUL,UACvBC,EAAAA,EAAAA,KAAA,OAAKM,MAAO,CAAEC,SAAU,UAAYH,UAAU,YAAWL,UACvDD,EAAAA,EAAAA,MAAA,OAAKM,UAAU,kBAAiBL,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,cAAaL,UAC1BD,EAAAA,EAAAA,MAAA,MAAIM,UAAU,aAAYL,SAAA,CAAC,eAAaJ,QAE1CK,EAAAA,EAAAA,KAAA,OAAKI,UAAU,YAAWL,UACxBD,EAAAA,EAAAA,MAAA,OACEM,UAAU,MACVE,MAAO,CAAEE,OAAQ,wBACjBC,GAAG,YAAWV,SAAA,EAEdD,EAAAA,EAAAA,MAAA,OAAKM,UAAU,sBAAqBL,SAAA,EAClCC,EAAAA,EAAAA,KAAA,SAAOM,MAAO,CAAEC,SAAU,QAAUG,QAAQ,MAAKX,SAAC,YAGlDD,EAAAA,EAAAA,MAAA,UACEa,KAAK,uBACLC,SA3IV,SAACC,GACf,IAAAC,EAAwBD,EAAEE,OAAlBJ,EAAIG,EAAJH,KAAMK,EAAKF,EAALE,MACdzF,GAAa,SAACD,GACZ,OAAA2F,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACK3F,GAAS,IAAA4F,EAAAA,EAAAA,GAAA,GACXP,EAAOK,GAEZ,GACF,EAoI0BZ,UAAU,+BACVE,MAAO,CAAEC,SAAU,UACnBE,GAAG,cAAaV,SAAA,EAEhBC,EAAAA,EAAAA,KAAA,UAAQgB,MAAM,GAAEjB,SAAC,WAChB9E,EACGA,EAAOkG,KAAI,SAACC,GAKZ,IAJA,IACIC,EADgBD,EAAQE,eAAe7B,MAAM,KACjBC,MAAM,GAClC6B,EAAmB,GAEd3B,EAAI,EAAGA,EAAIyB,EAAcxB,OAAQD,IACxC2B,GAAoBF,EAAczB,GAC9BA,EAAIyB,EAAcxB,OAAS,IAC7B0B,GAAoB,KAGxB,OACEvB,EAAAA,EAAAA,KAAA,UACEgB,MAAOI,EAAQE,eAAevB,SAG7BwB,GAFIH,EAAQI,IAAM,OAKzB,IACE,OAENxB,EAAAA,EAAAA,KAAA,OAAKM,MAAO,CAAEmB,QAAS,OAAQC,MAAO,OAASjB,GAAG,WAAUV,SAAC,+BAI/DC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kBAAiBL,UAC9BC,EAAAA,EAAAA,KAAA,UACE2B,KAAK,QACLlB,GAAG,WACHH,MAAO,CACLC,SAAU,OACVqB,UAAW,UAEbxB,UAAU,gCACVyB,QAtHL,SAAChB,GACpBA,EAAEtE,iBACF,IAAQnB,EAAyBE,EAAzBF,qBAQR,GAPgC,KAA5B0G,IAAE,gBAAgBC,OACpBD,IAAE,aAAaE,OACfF,IAAE,gBAAgBG,IAAI,eAAgB,QAGtCH,IAAE,aAAaI,QAEZ9G,EACH,OAAO,EAEP,IAAM+G,EAAQ,eAAAC,GAAAhF,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA+E,IAAA,IAAA1E,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAS,MAAA,SAAAwE,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,cAAAqE,EAAArE,KAAA,EAEGK,MAAM,GAAD3D,OAAID,EAAG,oCAAoC,CAChE6D,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBvD,qBAAAA,MAED,KAAD,EARO,OAAHuC,EAAG2E,EAAAnE,KAAAmE,EAAArE,KAAA,EASUN,EAAIiB,OAAO,KAAD,EAAvBhB,EAAI0E,EAAAnE,KACS,MAAfR,EAAIkB,QAAmBjB,EAGpBA,EAGHpC,EAAS,cAAe,CAAEmB,MAAO,CAAEiB,KAAAA,EAAMxC,qBAAAA,KAFzC+D,QAAQC,IAAI,YAHdD,QAAQC,IAAI,UAOb,wBAAAkD,EAAAjD,OAAA,GAAAgD,EAAA,KACF,kBArBa,OAAAD,EAAA9C,MAAA,KAAAC,UAAA,KAsBd4C,GAEJ,EAiFgDpC,SACvB,qCAarBC,EAAAA,EAAAA,KAACuC,EAAAA,EAAM,MAGb,C","sources":["component/qmsSheet/SheetList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport Menu from \"../Menu\";\nimport $ from \"jquery\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { isAuth } from \"../auth/helpers\";\n\nconst url = `${process.env.REACT_APP_BACKEND_URL}`\nconst SheetList = () => {\n  const [sheets, setSheets] = useState(\"\");\n  const [sheetName, setSheetName] = useState({\n    getdynamiccollection: \"\",\n  });\n  const navigate = useNavigate()\n  const location = useLocation()\n  //Validation\n  useEffect(() => {\n    (() => {\n      // Fetch all the forms we want to apply custom Bootstrap validation styles to\n      const forms = document.querySelectorAll(\".needs-validation\");\n      // Loop over them and prevent submission\n      Array.from(forms).forEach((form) => {\n        form.addEventListener(\n          \"submit\",\n          (event) => {\n            if (!form.checkValidity()) {\n              event.preventDefault();\n              event.stopPropagation();\n            }\n            form.classList.add(\"was-validated\");\n          },\n          false\n        );\n      });\n    })();\n  }, [navigate]);\n\n  const setdata = (e) => {\n    const { name, value } = e.target;\n    setSheetName((sheetName) => {\n      return {\n        ...sheetName,\n        [name]: value,\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (location.state != null) {\n      toast.success(\"Data saved successfully!\");\n    }\n    setTimeout(() => {\n      window.history.replaceState({}, document.title)\n    }, 100);\n  }, [location])\n\n  //Get all cmid via employeeid\n  useEffect(() => {\n    const getdata1 = async () => {\n      const EmployeeID = await isAuth().EmployeeID\n      const client = await isAuth().client_name\n      const emp_type = await isAuth().usertype\n\n      const res = await fetch(`${url}/api/getall-cmid-via-empid`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          EmployeeID, client, emp_type\n        }),\n      });\n      const data = await res.json();\n      if (res.status === 422 || !data) {\n        console.log(\"error \");\n      } else {\n        const getdata = async () => {\n          const cm_id = await data[0].cm_id\n          const res = await fetch(`${url}/api/get-dynamic-collection-names`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              cm_id,\n            }),\n          });\n          const data1 = await res.json();\n          if (res.status === 422 || !data1) {\n            console.log(\"error \");\n          } else {\n            setSheets(data1);\n          }\n        };\n        getdata()\n      }\n    };\n    getdata1()\n  }, [])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { getdynamiccollection } = sheetName;\n    if ($(\"#selectsheet\").val() === \"\") {\n      $(\"#sheeterr\").show()\n      $(\"#selectsheet\").css('border-color', 'red')\n    }\n    else {\n      $(\"#sheeterr\").hide()\n    }\n    if (!getdynamiccollection) {\n      return false\n    } else {\n      const postdata = async () => {\n\n        const res = await fetch(`${url}/api/get-dynamic-collection-data`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            getdynamiccollection,\n          }),\n        });\n        const data = await res.json();\n        if (res.status === 422 || !data) {\n          console.log(\"error \");\n        } else {\n          if (!data) {\n            console.log(\"No Data!\");\n          } else {\n            navigate('/evaluation', { state: { data, getdynamiccollection } })\n          }\n        }\n      };\n      postdata();\n    }\n  };\n\n  const sheetsname = sheetName.getdynamiccollection.split('_')\n  var newSheetName = sheetsname.slice(1);\n  var addnewSheetName = '';\n  for (var i = 0; i < newSheetName.length; i++) {\n    addnewSheetName += newSheetName[i]\n    if (i < newSheetName.length - 1) {\n      addnewSheetName += \"_\";\n    }\n  }\n  return (\n    <div>\n      <Header />\n      <Menu />\n      <ToastContainer />\n      <div className=\"content-wrapper\">\n        <section className=\"content \">\n          <div className=\"container-fluid \">\n            <form noValidate\n              className=\"needs-validation\">\n              <div className=\"row mt-2\">\n                <div style={{ fontSize: \"12.3px\" }} className=\"col-md-12\">\n                  <div className=\"card card-info \">\n                    <div className=\"card-header\">\n                      <h4 className=\"card-title\">Sheet List: {addnewSheetName}</h4>\n                    </div>\n                    <div className=\"card-body\">\n                      <div\n                        className=\"row\"\n                        style={{ border: \"solid text-muted 1px\" }}\n                        id=\"sheethide\"\n                      >\n                        <div className=\"form-group col-md-5\">\n                          <label style={{ fontSize: \"11px\" }} htmlFor=\"xyz\">\n                            Sheet:\n                          </label>\n                          <select\n                            name=\"getdynamiccollection\"\n                            onChange={setdata}\n                            className=\"form-control form-control-sm\"\n                            style={{ fontSize: \"12.4px\" }}\n                            id=\"selectsheet\"\n                          >\n                            <option value=\"\">Select</option>\n                            {sheets\n                              ? sheets.map((element) => {\n                                const sheetsname1 = element.collectionname.split('_')\n                                var newSheetName1 = sheetsname1.slice(1);\n                                var addnewSheetName1 = '';\n\n                                for (var i = 0; i < newSheetName1.length; i++) {\n                                  addnewSheetName1 += newSheetName1[i]\n                                  if (i < newSheetName1.length - 1) {\n                                    addnewSheetName1 += \"_\";\n                                  }\n                                }\n                                return (\n                                  <option\n                                    value={element.collectionname}\n                                    key={element._id + \"jhyu\"}\n                                  >\n                                    {addnewSheetName1}\n                                  </option>\n                                );\n                              })\n                              : \"\"}\n                          </select>\n                          <div style={{ display: 'none', color: 'red' }} id=\"sheeterr\">\n                            Please choose a sheet.\n                          </div>\n                        </div>\n                        <div className=\"form-group ml-2\">\n                          <button\n                            type=\"click\"\n                            id=\"sheetbtn\"\n                            style={{\n                              fontSize: \"11px\",\n                              marginTop: \"1.6rem\"\n                            }}\n                            className=\"btn btn-sm btn-info col-md-12\"\n                            onClick={handleSubmit}\n                          >\n                            GET SHEET\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </section>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default SheetList;\n"],"names":["url","concat","process","_useState","useState","_useState2","_slicedToArray","sheets","setSheets","_useState3","getdynamiccollection","_useState4","sheetName","setSheetName","navigate","useNavigate","location","useLocation","useEffect","forms","document","querySelectorAll","Array","from","forEach","form","addEventListener","event","checkValidity","preventDefault","stopPropagation","classList","add","state","toast","setTimeout","window","history","replaceState","title","getdata1","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","EmployeeID","client","emp_type","res","data","getdata","wrap","_context2","prev","next","isAuth","sent","client_name","usertype","fetch","method","headers","body","JSON","stringify","json","status","_ref2","_callee","cm_id","data1","_context","console","log","stop","apply","arguments","newSheetName","split","slice","addnewSheetName","i","length","_jsxs","children","_jsx","Header","Menu","ToastContainer","className","noValidate","style","fontSize","border","id","htmlFor","name","onChange","e","_e$target","target","value","_objectSpread","_defineProperty","map","element","newSheetName1","collectionname","addnewSheetName1","_id","display","color","type","marginTop","onClick","$","val","show","css","hide","postdata","_ref3","_callee3","_context3","Footer"],"sourceRoot":""}